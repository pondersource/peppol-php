FROM f34c616326ae

RUN /usr/lib/jvm/java-8-openjdk-amd64/bin/keytool -exportcert -alias pondersource -storepass peppol -keystore /root/phase4/phase4-peppol-server-webapp/keys/test.p12 -file /root/phase4/phase4-peppol-client/certificate.cer
RUN /usr/lib/jvm/java-8-openjdk-amd64/bin/keytool -genkeypair -keystore /root/phase4/phase4-peppol-client/test-ap-2021.p12 -storetype PKCS12 -storepass peppol -alias "openpeppol aisbl id von pop000306" -keyalg RSA -keysize 2048 -validity 99999 -dname "CN=My SSL Certificate, OU=My Team, O=My Company, L=My City, ST=My State, C=SA" -ext san=dns:nimladris,dns:localhost,ip:127.0.0.1

WORKDIR /root/phase4/phase4-peppol-client

ADD ...

CMD echo -ne "as4endpoint\nhttp://188.208.143.130:8080\n" >> hacky_preferences.txt && sleep 1 && /usr/lib/jvm/java-8-openjdk-amd64/bin/java -classpath "/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/deploy.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/access-bridge-64.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/cldrdata.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/dnsns.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/jaccess.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/jfxrt.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/localedata.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/nashorn.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/sunec.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/sunjce_provider.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/sunmscapi.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/sunpkcs11.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext/zipfs.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/javaws.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jfxswt.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/management-agent.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/plugin.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar:/root/phase4/phase4-peppol-client/target/test-classes:/root/phase4/phase4-peppol-client/target/classes:/root/phase4/phase4-lib/target/classes:/root/.m2/repository/org/bouncycastle/bcmail-jdk15on/1.70/bcmail-jdk15on-1.70.jar:/root/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.70/bcprov-jdk15on-1.70.jar:/root/.m2/repository/org/bouncycastle/bcutil-jdk15on/1.70/bcutil-jdk15on-1.70.jar:/root/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.70/bcpkix-jdk15on-1.70.jar:/root/.m2/repository/org/apache/wss4j/wss4j-ws-security-dom/2.4.1/wss4j-ws-security-dom-2.4.1.jar:/root/.m2/repository/org/apache/wss4j/wss4j-ws-security-common/2.4.1/wss4j-ws-security-common-2.4.1.jar:/root/.m2/repository/org/apache/santuario/xmlsec/2.3.0/xmlsec-2.3.0.jar:/root/.m2/repository/org/cryptacular/cryptacular/1.2.4/cryptacular-1.2.4.jar:/root/.m2/repository/joda-time/joda-time/2.10.10/joda-time-2.10.10.jar:/root/.m2/repository/org/jasypt/jasypt/1.9.3/jasypt-1.9.3.jar:/root/.m2/repository/com/helger/commons/ph-commons/10.1.6/ph-commons-10.1.6.jar:/root/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/root/.m2/repository/com/helger/commons/ph-xml/10.1.6/ph-xml-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-jaxb/10.1.6/ph-jaxb-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-jaxb-adapter/10.1.6/ph-jaxb-adapter-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-datetime/10.1.6/ph-datetime-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-bc/10.1.6/ph-bc-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-scopes/10.1.6/ph-scopes-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-json/10.1.6/ph-json-10.1.6.jar:/root/.m2/repository/com/helger/web/ph-mail/9.6.4/ph-mail-9.6.4.jar:/root/.m2/repository/com/sun/mail/jakarta.mail/1.6.7/jakarta.mail-1.6.7.jar:/root/.m2/repository/com/helger/web/ph-http/9.6.4/ph-http-9.6.4.jar:/root/.m2/repository/com/helger/web/ph-network/9.6.4/ph-network-9.6.4.jar:/root/.m2/repository/com/helger/web/ph-httpclient/9.6.4/ph-httpclient-9.6.4.jar:/root/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/root/.m2/repository/org/apache/httpcomponents/httpcore/4.4.15/httpcore-4.4.15.jar:/root/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar:/root/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.32/jcl-over-slf4j-1.7.32.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-xmldsig/2.6.0/ph-xsds-xmldsig-2.6.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-xlink/2.6.0/ph-xsds-xlink-2.6.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-xml/2.6.0/ph-xsds-xml-2.6.0.jar:/root/.m2/repository/com/helger/masterdata/ph-tenancy/6.2.4/ph-tenancy-6.2.4.jar:/root/.m2/repository/com/helger/masterdata/ph-masterdata/6.2.4/ph-masterdata-6.2.4.jar:/root/.m2/repository/com/helger/commons/ph-config/10.1.6/ph-config-10.1.6.jar:/root/.m2/repository/com/helger/photon/ph-oton-app/8.4.0/ph-oton-app-8.4.0.jar:/root/.m2/repository/com/helger/commons/ph-collection/10.1.6/ph-collection-10.1.6.jar:/root/.m2/repository/com/helger/commons/ph-dao/10.1.6/ph-dao-10.1.6.jar:/root/.m2/repository/com/helger/web/ph-servlet/9.6.4/ph-servlet-9.6.4.jar:/root/.m2/repository/com/helger/web/ph-useragent/9.6.4/ph-useragent-9.6.4.jar:/root/.m2/repository/com/helger/ph-css/6.5.0/ph-css-6.5.0.jar:/root/.m2/repository/com/helger/photon/ph-oton-html/8.4.0/ph-oton-html-8.4.0.jar:/root/.m2/repository/com/helger/photon/ph-oton-audit/8.4.0/ph-oton-audit-8.4.0.jar:/root/.m2/repository/com/helger/photon/ph-oton-security/8.4.0/ph-oton-security-8.4.0.jar:/root/.m2/repository/com/helger/schedule/ph-schedule/4.2.0/ph-schedule-4.2.0.jar:/root/.m2/repository/com/helger/schedule/ph-mini-quartz/4.2.0/ph-mini-quartz-4.2.0.jar:/root/.m2/repository/com/helger/web/ph-web/9.6.4/ph-web-9.6.4.jar:/root/.m2/repository/com/helger/web/ph-xservlet/9.6.4/ph-xservlet-9.6.4.jar:/root/.m2/repository/org/slf4j/jul-to-slf4j/1.7.32/jul-to-slf4j-1.7.32.jar:/root/phase4/phase4-profile-peppol/target/classes:/root/phase4/phase4-dynamic-discovery/target/classes:/root/.m2/repository/dnsjava/dnsjava/3.5.0/dnsjava-3.5.0.jar:/root/.m2/repository/com/helger/ph-sbdh/4.3.0/ph-sbdh-4.3.0.jar:/root/.m2/repository/com/helger/peppol/peppol-commons/8.7.4/peppol-commons-8.7.4.jar:/root/.m2/repository/com/helger/commons/ph-security/10.1.6/ph-security-10.1.6.jar:/root/.m2/repository/net/jodah/expiringmap/0.5.10/expiringmap-0.5.10.jar:/root/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar:/root/.m2/repository/com/helger/peppol/peppol-sbdh/8.7.4/peppol-sbdh-8.7.4.jar:/root/.m2/repository/com/helger/peppol/peppol-id/8.7.4/peppol-id-8.7.4.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-bdxr-smp1/2.6.0/ph-xsds-bdxr-smp1-2.6.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-bdxr-smp2/2.6.0/ph-xsds-bdxr-smp2-2.6.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-xmldsig11/2.6.0/ph-xsds-xmldsig11-2.6.0.jar:/root/.m2/repository/com/helger/peppol/peppol-id-datatypes/8.7.4/peppol-id-datatypes-8.7.4.jar:/root/.m2/repository/com/helger/peppol/peppol-smp-client/8.7.4/peppol-smp-client-8.7.4.jar:/root/.m2/repository/com/helger/web/ph-dns/9.6.4/ph-dns-9.6.4.jar:/root/.m2/repository/com/helger/peppol/peppol-smp-datatypes/8.7.4/peppol-smp-datatypes-8.7.4.jar:/root/.m2/repository/jakarta/xml/ws/jakarta.xml.ws-api/2.3.3/jakarta.xml.ws-api-2.3.3.jar:/root/.m2/repository/jakarta/xml/soap/jakarta.xml.soap-api/1.4.2/jakarta.xml.soap-api-1.4.2.jar:/root/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/root/.m2/repository/jakarta/jws/jakarta.jws-api/2.1.0/jakarta.jws-api-2.1.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-wsaddr/2.6.0/ph-xsds-wsaddr-2.6.0.jar:/root/.m2/repository/com/helger/phive/rules/phive-rules-peppol/2.1.13/phive-rules-peppol-2.1.13.jar:/root/.m2/repository/com/helger/ubl/ph-ubl21/6.7.0/ph-ubl21-6.7.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-xades132/2.6.0/ph-xsds-xades132-2.6.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-xades141/2.6.0/ph-xsds-xades141-2.6.0.jar:/root/.m2/repository/com/helger/xsd/ph-xsds-ccts-cct-schemamodule/2.6.0/ph-xsds-ccts-cct-schemamodule-2.6.0.jar:/root/.m2/repository/com/helger/schematron/ph-schematron-xslt/6.3.1/ph-schematron-xslt-6.3.1.jar:/root/.m2/repository/com/helger/schematron/ph-schematron-api/6.3.1/ph-schematron-api-6.3.1.jar:/root/.m2/repository/net/sf/saxon/Saxon-HE/11.3/Saxon-HE-11.3.jar:/root/.m2/repository/com/helger/schematron/ph-schematron-pure/6.3.1/ph-schematron-pure-6.3.1.jar:/root/.m2/repository/com/helger/phive/phive-engine/7.2.3/phive-engine-7.2.3.jar:/root/.m2/repository/com/helger/schematron/ph-schematron-schxslt/6.3.1/ph-schematron-schxslt-6.3.1.jar:/root/.m2/repository/name/dmaus/schxslt/schxslt/1.8.7/schxslt-1.8.7.jar:/root/.m2/repository/com/helger/phive/phive-api/7.2.3/phive-api-7.2.3.jar:/root/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/root/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/root/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/root/.m2/repository/org/slf4j/slf4j-simple/1.7.32/slf4j-simple-1.7.32.jar:/root/.m2/repository/com/helger/phive/rules/phive-rules-en16931/2.1.13/phive-rules-en16931-2.1.13.jar:/root/.m2/repository/com/helger/cii/ph-cii-d16b/2.5.0/ph-cii-d16b-2.5.0.jar:/root/.m2/repository/com/helger/phive/rules/phive-rules-xrechnung/2.1.13/phive-rules-xrechnung-2.1.13.jar:/root/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.5/jaxb-impl-2.3.5.jar:/root/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/root/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/root/.m2/repository/org/xmlresolver/xmlresolver/4.2.0/xmlresolver-4.2.0.jar" com.helger.phase4.peppol.MainPhase4PeppolSender
